# VIM 小抄大全

目录

1. [光标移动](#cursor-movement)
2. [插入模式 - 插入/追加文本](#insert-mode)
3. [编辑](#editing)
4. [选择文本（可视化模式）](#marking-text)
5. [可视化模式命令](#visual-commands)
6. [剪切, 复制, 粘贴](#cut-and-paste)
7. [退出](#exiting)
8. [查找/替换](#search-and-replace)
9. [多文件](#working-with-multiple-files)
10. [页签](#tabs)

<div id='cursor-movement'>
### 光标移动

命令 | 说明
---- | ----
`h` | 左移光标
`j` | 下移光标
`k` | 上移光标
`l` | 右移光标
`w` | 移动到下个单词开头
`W` | 移动到下个单词开头 (单词含标点)
`e` | 移动到下个单词结尾
`E` | 移动到下个单词结尾 (单词含标点)
`b` | 移动到上个单词结尾
`B` | 移动到上个单词结尾 (单词含标点)
`0` | 移动到行首
`^` | 移动到行首的非空白符
`$` | 移动到行尾
`G` | 移动到文档末行行首
`5G` | 移动到第五行

> **Tip** 命令前追加数字表示命令的重复次数, 比如 `4j` 表示向下移动四行

<div id='insert-mode'>
### 插入模式 - 插入/追加文本

命令 | 说明
---- | ----
`i` | 从光标前开始插入字符
`I` | 从行首开始插入字符
`a` | 从光标后开始插入字符
`A` | 从行尾开始插入字符
`o` | 在当前行之下另起一行, 开始插入字符
`O` | 在当前行之上另起一行, 开始插入字符
`ea` | 从当前单词末尾开始插入
`Esc` | 退出插入模式

<div id='editing'>
### 编辑

命令 | 说明
---- | ----
`r` | 替换当前字符
`J` | 将下一行合并到当前行
`cc` | 清空当前行, 然后进入插入模式
`cw` | 从光标位置开始, 修改单词
`c$` | 从光标位置开始, 修改当前行
`s` | 删除当前字符, 然后进入插入模式
`S` | 清空当前行, 然后进入插入模式 (同cc)
`xp` | 当前字符后移
`u` | 撤销
`Ctrl + r` | 重复
`.` | 再次执行上个命令

<div id='marking-text'>
### 选择文本（可视化模式）

命令 | 说明
---- | ----
`v` | 进入可视化模式, 移动光标高亮选择, 然后可以对选择的文本执行命令 (比如 `y` - 复制)
`V` | 进入可视化模式 (行粒度选择)
`o` | 切换光标到选择区开头/结尾
`Ctrl + v` | 进入可视化模式 (矩阵选择)
`O` | 切换光标到选择区的角
`aw` | 选择当前单词
`ab` | 选择被 () 包裹的区域 (含括号)
`aB` | 选择被 {} 包裹的区域 (含花括号)
`ib` | 选择被 () 包裹的区域 (不含括号)
`iB` | 选择被 {} 包裹的区域 (不含花括号)
`Esc` | 退出可视化模式

<div id='visual-commands'>
### 可视化模式命令

命令 | 说明
---- | ----
`>` | 向右缩进
`<` | 向左缩进
`y` | 复制
`d` | 剪切
`~` | 大小写切换

<div id='cut-and-paste'>
### 剪切, 复制, 粘贴

命令 | 说明
---- | ----
`yy` | 复制当前行
`2yy` | 复制 2 行
`yw` | 复制当前单词
`y$` | 复制, 从光标位置到行末
`p` | 在光标后粘贴
`P` | 在光标前粘贴
`dd` | 剪切当前行
`2dd` | 剪切 2 行
`dw` | 剪切当前单词
`D` | 剪切, 从光标位置到行末
`d$` | 剪切, 从光标位置到行末 (同D)
`x` | 剪切当前字符

<div id='exiting'>
### 退出

命令 | 说明
---- | ----
`:w` | 保存
`:wq` 或 `:x` 或 `ZZ` | 保存并退出
`:q` | 退出 (修改未保存时警告)
`:q!` 或 `ZQ` | 不保存强制退出

<div id='search-and-replace'>
### 查找/替换

命令 | 说明
---- | ----
`/pattern` | 查找pattern
`?pattern` | 向上查找pattern
`n` | 查找下一个
`N` | 查找上一个
`:%s/old/new/g` | 替换全部
`:%s/old/new/gc` | (逐个) 替换

<div id='working-with-multiple-files'>
### 多文件

命令 | 说明
---- | ----
`:e filename` | 新建缓冲区打开 filename
`:bnext` 或 `:bn` | 切换到下个缓冲区
`:bprev` 或 `:bp` | 切换到上个缓冲区
`:bd` | 关闭缓冲区
`:sp filename` | 新建缓冲区打开 filename 并水平分栏
`:vsp filename` | 新缓冲区打开 filename 并垂直分栏
`Ctrl + ws` | 水平分栏
`Ctrl + ww` | 在分栏间切换
`Ctrl + wq` | 关闭分栏
`Ctrl + wv` | 垂直分栏
`Ctrl + wh` | 切换到左侧分栏 (垂直分栏)
`Ctrl + wl` | 切换到右侧分栏 (垂直分栏)
`Ctrl + wj` | 切换到下侧分栏 (水平分栏)
`Ctrl + wk` | 切换到上侧分栏 (水平分栏)

<div id='tabs'>
### 页签

命令 | 说明
---- | ----
`:tabnew filename` 或 `:tabn filename` | 创建新页签/在新标签页中打开文档
`Ctrl + wT` | 将分栏变成页签
`gt` 或 `:tabnext` 或 `:tabn` | 切换到下一个页签
`gT` 或 `:tabprev` 或 `:tabp` | 切换到上一个页签
`#gt` | 切换到第 # 个页签
`:tabmove #` | 移动页签到第 # 位 (下标从 0 开始)
`:tabclose` 或 `:tabc` | 关闭当前页签
`:tabonly` 或 `:tabo` | 关闭其他页签
